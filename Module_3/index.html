<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Reed Haw">
  
  <title>Module 3 - Open Research Notebook</title>
  

  <link rel="shortcut icon" href="../favicon.png">
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Module 3";
    var mkdocs_page_input_path = "Module_3.md";
    var mkdocs_page_url = "/Module_3/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Open Research Notebook</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Module 1</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../hello_world/">Hello world</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../markdown_cheetsheet/">Markdown cheetsheet</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Module_2/">Module 2</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Module 3</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#module-3">Module 3</a></li>
                
                    <li><a class="toctree-l4" href="#text-encoding">Text Encoding</a></li>
                
                    <li><a class="toctree-l4" href="#transcription">Transcription</a></li>
                
                    <li><a class="toctree-l4" href="#regex">Regex</a></li>
                
                    <li><a class="toctree-l4" href="#open-refine">Open Refine</a></li>
                
                    <li><a class="toctree-l4" href="#stanford-ner">Stanford NER</a></li>
                
            
            </ul>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Open Research Notebook</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Module 3</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/reedhaw/Research-Notebook" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="module-3">Module 3</h1>
<p>3/19/2016 1:16:47 PM </p>
<h2 id="text-encoding">Text Encoding</h2>
<h3 id="recovered-histories-vetting"><a href="https://www.recoveredhistories.org">Recovered Histories</a> Vetting</h3>
<h4 id="negatives">Negatives:</h4>
<ul>
<li>Site is "Lottery Funded", and does not appear to be affiliated with an academic institution</li>
<li>Websites design and style is outdated, which creates possibility that all the information is outdated, or not to modern standards </li>
<li>Does not have any outside links or sources, other than what is presented in its collection </li>
<li>A significant portion of the literature in the collection appears to be from slavers and free white men</li>
<li>Some items in collection have very messy handwriting, making it more difficult to encode the information and recognize characters </li>
</ul>
<h4 id="positives">Positives:</h4>
<ul>
<li>Site is "Lottery Funded", which can be viewed in a positive way, as it prevents people from becoming biased or for altering information to help prove their point</li>
<li>Encourages users to generate own content using site as raw resource</li>
<li>Appears to reference information in its collection by linking to the specific articles</li>
<li>Documents in collection are scanned and then uploaded, they are not transcribed, which can cause differences</li>
<li>Search tool provides what appears to be accurate reading of the collection</li>
</ul>
<h2 id="transcription">Transcription</h2>
<p>The transcription went smoothly at first. Upon entering my first tags, I tested it in Internet Explorer and got the colourfully transcribed version of <a href="http://www.recoveredhistories.org/pamphlet1.php?page=1&amp;amp;orderby=MaxID&amp;amp;catid=66">Negro Slavery by Zachary MacAulay</a>. But then I went back and added some a few more place and name tags, and the text disappeared. I had the paragraphs separated and encased in tags, rather than inline tags, and I think that's where my problem came from. For example:</p>
<p>After going through each paragraph break, I managed to get proper formatting back, with colours. My suspicion is that one of my location tags got separated when I was spacing out the text. A simple mistake.  </p>
<h3 id="transformations">Transformations</h3>
<p>In my page5.xml file, the xsl styling is looking for tags like <code>persName</code> and <code>interp</code>. These titles point the browser to the same tag in the .xsl document which defines the style of the .xml file. This uses the same system that web pages utilize, the HTML pointing the browser to the styles defined in the CSS document. </p>
<p>In <code>SG_transformer.xsl</code>, the browser will be looking at tags such as <code>ID</code>, or <code>Repository</code>. I <em>believe</em> this uses an elif system, where it defines a list of words as the root of the tag, and each tag would receive a value-of, which might give a tooltip? I'm not 100% on the appearance of the .xml page once these tags are used. </p>
<p>To define different .xsl sheets, you would change the <code>href</code> designation on line 2 from: <code>&lt;?cml-stylesheet type="text/xsl" href="000stylesheet.xsl"?&gt;</code> to <code>&lt;?cml-stylesheet type="text/xsl" href="SG_transformer.xsl"?&gt;</code>. I tried this and didn't get any change in my own .xml file, but I believe that is 1. because I don't have any of the tags and 2. because the <code>SG_transformer.xsl</code> file does not have any defined template styles in it. I compared it to the 000style.xsl and the colours and appearance of the tags are defined under the <code>style</code> tag throughout the document, which <code>SG_transformer.xsl</code> is lacking. </p>
<p>If you want to see the pages, you can view my transcription <a href="http://reedhaw.github.io/page5">here</a>. I also apologize for putting the transformer.xsl file as code, the underscore in it was italicizing large swathes of my text that happened to fall between them. </p>
<h2 id="regex">Regex</h2>
<p>After reading the gentle introduction, I can understand how powerful it can be once one knows how to use it. It's a good thing I made a copy. I also need to be careful as to where I leave my cursor when I'm searching. When I leave it at the end, it's hard to find anything in the document after it. </p>
<p><code>\r\n</code> did not work to find the blank lines. To remove the white spaces, I went into <a href="http://regexr.com/">RegExr's Cheatsheet</a> and found the Regex for word, which was <code>\w</code>, and then used <code>\r\n[^\w].+</code> to find all of the white spaces in my document to remove. It successfully worked, however it did leave a few large chunks with blank lines that I can't get RegEx to clear. I suspect that it is because there was more than one line with it, and when I replaced the previous characters with the the empty replace bar, it replaced everything, but maybe put in an invisible character I can't see. I'm not sure yet, still trying. For the sake of my sanity I had to go through and remove each chunk by hand. It wasn't difficult though, as there were only twelve or so of these chunks. I think it's where "Digitized By Google" used to sit in the document, and they may have put in something that my text editor can't see/copy. Still not sure.  </p>
<p>I find that <a href="http://regexr.com/">RegExr</a> doesn't seem to process my work properly. I'm not sure why, but I actually find it relatively easy to use Notepad++ as it displays a window at the bottom of the document with all of the information that the find function works. And if something doesn't work, ctrl+Z works magical wonders. </p>
<p>While trying to replace the page number and comma at the end of each index entry, I was getting very bizarre numbers at the end of the entry. Until I realized I had put the space in the wrong spot. When replacing <code>(, )([0-9]{4})(.+)</code> with <code>\2</code> I was getting an entry that looked like this: 
<pre><code>~Sam Houston to J. Pinckney Henderson, December 311836</pre></code>
Then I realized my misplaced space was in the wrong group, and found that <code>(,)( [0-9]{4})(.+)</code> worked significantly better. I proceeded to have a moment of panic when I noticed lines like this: 
<pre><code>David G. Bumet, Alc6e La Branche, December 16, 1839 61
David G. Bumet, Alc^ La Branche, December 17, 1839 63</code></pre>
But then upon checking the original document, that is what Google's OCR thought the characters represented.</p>
<p>Something messed up my saves and I managed to save over my step 5 with an earlier version, so I have to backtrack a bit to get back on track, and redo step five and six. In the midst of finding this, I realized I had left the dates at the ends of each entry, so every search would come up with more than three commas in each sentence. So backtrack a little further to step 4. And I managed to fix it with the given Regex. I'm not a hundred percent on what made that occur. </p>
<h2 id="open-refine">Open Refine</h2>
<p>Interesting tool. I worked through it all only to find that it left a few entries (possibly worse off). I think its because I might have been trying to add an accented e, but it didn't like it, as a few of my entries have an @ sign in it randomly that wasn't there before. I might try running it through again later, but at least I now know how to basically work the program (which is awesome). Just to play with it, I'm now uploading my .csv into Palladio to see what it comes up with. Data visualization is one of my favourite things! </p>
<p>I don't quite understand it at the moment. Maybe I'll come back to it. </p>
<h2 id="stanford-ner">Stanford NER</h2>
<p>So I'm having significant issues with this one. I can't seem to run the <code>ner-gui.bat</code> file to run, it opens a window only to immediately close it again. So following the directions on the end of the Open Refine page, I attempted to run it from the command line in the folder and I'm getting an exception in thread, but I can't figure out what I've done wrong. I have a feeling its something to do with a missing Java definition. I think it's specifically struggling with <code>edu.stanford.nlp.ie.crf.CRFClassifier</code>  </p>
<p>I figured it out. The problem was that I've been trying to run it from command line with the text from the <a href="http://workbook.craftingdigitalhistory.ca/supporting%20materials/ner/">workbook</a>, which wasn't working. So I tried updating Java, and did that successfully. Still nothing. I was able to successfully open a gui using <code>stanford-ner.jar</code>, but when I put the text in and selected a classifier, it was not doing anything. So I deleted a large selection of it and finally got my results! </p>
<p>It highlighted my text like it was supposed to. But now the problem remains that I don't have all of the text classified, which I think is going to be a problem in the next exercise. I have a suspicion that the problem is that my computer isn't allocating enough memory, which the Stanford NER page says is a problem: </p>
<blockquote>
<p>It might work to double-click on the stanford-ner.jar archive but this may well fail as the operating system does not give Java enough memory for our NER system, so it is safer to instead double click on the ner-gui.bat icon (Windows) or ner-gui.sh (Linux/Unix/MacOSX).</p>
</blockquote>
<p>I tried increasing the amount of memory Java gets by default, it did not work either. So now I'm going to try and run only half the file. If that works, I'll save the single file into two files, run each one individually, then amalgamate the two after. I know it doesn't exactly fix my issues long term but it is a working solution. </p>
<p>Success with half the document! I've broken it into two individual files now to run through the NER gui.</p>
<p><strong>Update</strong>
The splitting didn't work, it tagged the files but it only highlighted it in the gui. So I went back and edited the <code>ner-gui.bat</code> file, adding a <code>pause</code> function so I could read what the command file without it auto-quitting, I discovered it was having giving an <code>unable to allocate space</code>. SO I went into the .bat file and messed around with the <code>Java -mx</code> size, and found that it worked successfully, and I could run file through the gui and successfully save a tagged version of the file (which I couldn't do before). </p>
<p><strong>The tagged Texas letters can be found <a href="../reedhaw.github.io/tagged-texas-letters.txt">here</a>.</strong></p>
<p><strong>And the index can be found <a href="https://github.com/reedhaw/reedhaw.github.io/blob/master/cleaned-texas-index.csv">here</a>.</strong></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../Module_2/" class="btn btn-neutral" title="Module 2"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright © 2016 Reed Haw</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/reedhaw/Research-Notebook" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Module_2/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>

</body>
</html>
